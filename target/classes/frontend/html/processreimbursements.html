<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Welcome to MI6</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="/css/style.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="mynav">
  <a class="navbar-brand" href="/html/welcome.html">MI6</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="reimburseDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        	Reimbursements
        </a>
        <div class="dropdown-menu" aria-labelledby="reimburseDropdown">
        	<a class="dropdown-item" id="createRequest" href="#" data-toggle="modal" data-target="#requestReimbursement">Request Reimbursement</a>
        	<a class="dropdown-item" href="/html/reimbursements.html">My Reimbursements</a>
        	<a class="dropdown-item" href="/html/processreimbursements.html">Process Reimbursements</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Assignments</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="profileDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        	Profile
        </a>
        <div class="dropdown-menu" aria-labelledby="profileDropdown">
        	<a class="dropdown-item" href="#">Profile</a>
        	<a id="logoutSession" class="dropdown-item" href="#">Logout</a>
        </div>
      	</li>
      	<li class="nav-item">
	        <a id="clearancelevel" class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true"></a>
	 	</li>
    </ul>
  </div>
</nav>

<div id = "table-container">	
	<table class="table table-hover table-dark" style="border-collapse:collapse">
	  <thead>
	    <tr>
	      <th scope="col">ID</th>
	      <th scope="col">Requester</th>
	      <th scope="col">Amount</th>
	      <th scope="col">Type</th>
	      <th scope="col">Submitted</th>
	      <th scope="col">
	      	<select class="form-control" id="filterStatus">
	      		<option>Status: All</option>
	      		<option id="statusPending">Status: Pending</option>
	      		<option>Status: Approved</option>
	      		<option>Status: Denied</option>
	      	</select>
	      </th>
	      <th scope="col">Resolver</th>
	      <th scope="col">Resolved</th>
	    </tr>
	  </thead>
	  <tbody id="insertTable">
	    <!-- Dynamic table -->
	  </tbody>
	</table>
</div>

<div class="modal fade" id="resolveRequest" data-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Resolve Reimbursement Request</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action='/mi6/users/processreimbursement' method="post" id="resolveRequestForm">
          <div class="form-group">
          	<label for="#requestID" class="col-form-label">ID:</label>
            <input class="form-control" id="requestID" name="requestId" type="text" value="" readonly>
          	<label for="requestStatus">Approval Status:</label>
            <select class="custom-select" id="requestStatus" name="requestType">
			  <option value="Denied" selected>Denied</option>
			  <option value="Approved">Approved</option>
			</select>           
          </div>
          <div class="form-group">
            <label for="resolverComments" class="col-form-label">Comments:</label>
            <textarea class="form-control" id="resolverComments" name="resolverComments"></textarea>
          </div>
          <div class="modal-footer">
        	<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
			<button type="submit" class="btn btn-primary" id="resolveRequest" data-toggle="modal" data-target="#resolveConfirmation">Resolve</button>
      	  </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="resolveConfirmation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Request resolved</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="requestReimbursement" data-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Request Reimbursement</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action='/mi6/users/requestreimbursement' method="post" id="createrequestform">
          <div class="form-group">
          	<label for="#expensetype">Expense Type:</label>
            <select class="custom-select" id="expensetype" name="requestType">
			  <option id="typeTravel" value="Travel" selected>Travel</option>
			  <option id="typeFood" value="Food">Food</option>
			  <option id="typeLodging" value="Lodging">Lodging</option>
			  <option id="typeEquipment" value="Equipment">Equipment</option>
			  <option id="typeLegal" value="Legal">Legal</option>
			  <option id="typeOther" value="Other">Other</option>
			</select>           
            <label for="#expenseamount" class="col-form-label">Amount:</label>
            <input type="number" step="0.01" name="requestAmount" class="form-control" id="expenseamount" placeholder="0.00" required>
          </div>
          <div class="form-group">
            <label for="requestText" class="col-form-label">Description:</label>
            <textarea class="form-control" id="requestText" name="requestDescription"></textarea>
          </div>
          <div class="modal-footer">
        	<button type="button" class="btn btn-secondary" id="cancelRequest" data-dismiss="modal">Cancel</button>
			<button type="submit" class="btn btn-primary" id="createRequest" data-toggle="modal" data-target="#createConfirmation">Create request</button>
      	  </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="createConfirmation" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Request created</h5>
        <button id="closeModal" type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>
</div>

<footer>Semper Occultus</footer>
<script type="text/Javascript" src="../js/processreimbursement.js"></script>
</body>
</html>